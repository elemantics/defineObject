// defineObject-js v0.1.0 
// (c) 2013 Sergey Melnikov 

// defineObject-js may be freely distributed under the MIT license


(function(){"use strict";function t(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])}function e(t){return!t||"object"==typeof t&&t.push?t:[t]}function o(o){o=o||{};var n,i,r=function(){},p=o.prototype,f=o.properties,c=e(o.extend),y=e(o.mixin),u=o.init||function(){},a=o.parent;if(a)if("function"==typeof a.object&&"function"==typeof a.init)r.prototype=new a.object;else{if("function"!=typeof a)throw"defineObject: not a valid parent";r.prototype=new a}if(c)for(n=0,i=c.length;i>n;n++)t(r.prototype,"object"==typeof c[n].prototype?c[n].prototype:c[n]);if(y)for(n=0,i=y.length;i>n;n++){if("object"!=typeof y[n].prototype||"function"!=typeof y[n].init)throw"defineObject : not a valid mixin";t(r.prototype,y[n].prototype)}return t(r.prototype,p),{object:r,init:u,prototype:r.prototype,parent:a,parentProto:a?a.prototype:null,properties:f,create:function(){var t=new this.object;if(this.properties&&Object.defineProperties(t,f),this.init.apply(t,arguments),y)for(n=0,i=y.length;i>n;n++)y[n].init.call(t);return t},hadCreated:function(t){return t instanceof this.object}}}var n=this;"undefined"!=typeof exports?module.exports=exports=o:n.defineObject=o}).call(this);